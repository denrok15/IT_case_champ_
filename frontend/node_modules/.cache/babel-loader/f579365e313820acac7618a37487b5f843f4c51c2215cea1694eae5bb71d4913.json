{"ast":null,"code":"import React,{useState}from'react';import'./Grade.css';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Grade=_ref=>{let{question,options,onVote}=_ref;const[selected,setSelected]=useState(null);const[submitted,setSubmitted]=useState(false);const[input,setInput]=useState('');const[commentSent,setCommentSent]=useState(false);const sendToBackend=async data=>{try{const response=await axios.post(\"http://127.0.0.1:8000/\",data,{headers:{\"Content-Type\":\"application/json\"}});console.log(\"–î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ:\",response.data);}catch(error){console.error(\"–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ:\",error);}};const handleVoteSubmit=e=>{e.preventDefault();if(selected!==null){setSubmitted(true);onVote(selected);}};const handleCommentSubmit=e=>{e.preventDefault();sendToBackend({comment:input,selected});setInput('');setCommentSent(true);};return/*#__PURE__*/_jsxs(\"div\",{className:\"mini-poll\",children:[/*#__PURE__*/_jsx(\"h3\",{children:question}),!submitted?/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleVoteSubmit,className:\"poll-form\",children:[options.map((opt,idx)=>/*#__PURE__*/_jsxs(\"label\",{className:\"poll-option\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"poll\",value:idx,onChange:()=>setSelected(idx)}),opt]},idx)),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"poll-button\",children:\"\\u0413\\u043E\\u043B\\u043E\\u0441\\u043E\\u0432\\u0430\\u0442\\u044C\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"poll-thanks\",children:\"\\u2705 \\u0421\\u043F\\u0430\\u0441\\u0438\\u0431\\u043E \\u0437\\u0430 \\u0432\\u0430\\u0448 \\u0433\\u043E\\u043B\\u043E\\u0441!\"}),!commentSent?/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCommentSubmit,className:\"comment-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"comment\",children:\"\\uD83D\\uDCAC \\u041E\\u0441\\u0442\\u0430\\u0432\\u044C\\u0442\\u0435 \\u043A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"comment\",value:input,onChange:e=>setInput(e.target.value),placeholder:\"\\u0412\\u0430\\u0448 \\u043A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439...\",className:\"comment-input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"poll-button secondary\",children:\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"})]}):/*#__PURE__*/_jsx(\"p\",{className:\"poll-thanks\",children:\"\\uD83C\\uDF89 \\u0421\\u043F\\u0430\\u0441\\u0438\\u0431\\u043E \\u0437\\u0430 \\u0432\\u0430\\u0448 \\u043A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439!\"})]})]});};export default Grade;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Grade","_ref","question","options","onVote","selected","setSelected","submitted","setSubmitted","input","setInput","commentSent","setCommentSent","sendToBackend","data","response","post","headers","console","log","error","handleVoteSubmit","e","preventDefault","handleCommentSubmit","comment","className","children","onSubmit","map","opt","idx","type","name","value","onChange","htmlFor","id","target","placeholder"],"sources":["C:/Users/mosin/PycharmProjects/untitled4/avavava/frontend/src/components/Grades/Grade.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './Grade.css';\r\nimport axios from 'axios';\r\n\r\nconst Grade = ({ question, options, onVote }) => {\r\n    const [selected, setSelected] = useState(null);\r\n    const [submitted, setSubmitted] = useState(false);\r\n    const [input, setInput] = useState('');\r\n    const [commentSent, setCommentSent] = useState(false);\r\n\r\n    const sendToBackend = async (data) => {\r\n        try {\r\n            const response = await axios.post(\"http://127.0.0.1:8000/\", data, {\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n            });\r\n            console.log(\"–î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ:\", response.data);\r\n        } catch (error) {\r\n            console.error(\"–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ:\", error);\r\n        }\r\n    };\r\n\r\n    const handleVoteSubmit = (e) => {\r\n        e.preventDefault();\r\n        if (selected !== null) {\r\n            setSubmitted(true);\r\n            onVote(selected);\r\n        }\r\n    };\r\n\r\n    const handleCommentSubmit = (e) => {\r\n        e.preventDefault();\r\n        sendToBackend({ comment: input, selected });\r\n        setInput('');\r\n        setCommentSent(true);\r\n    };\r\n\r\n    return (\r\n        <div className=\"mini-poll\">\r\n            <h3>{question}</h3>\r\n            {!submitted ? (\r\n                <form onSubmit={handleVoteSubmit} className=\"poll-form\">\r\n                    {options.map((opt, idx) => (\r\n                        <label key={idx} className=\"poll-option\">\r\n                            <input\r\n                                type=\"radio\"\r\n                                name=\"poll\"\r\n                                value={idx}\r\n                                onChange={() => setSelected(idx)}\r\n                            />\r\n                            {opt}\r\n                        </label>\r\n                    ))}\r\n                    <button type=\"submit\" className=\"poll-button\">–ì–æ–ª–æ—Å–æ–≤–∞—Ç—å</button>\r\n                </form>\r\n            ) : (\r\n                <>\r\n                    <p className=\"poll-thanks\">‚úÖ –°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –≥–æ–ª–æ—Å!</p>\r\n                    {!commentSent ? (\r\n                        <form onSubmit={handleCommentSubmit} className=\"comment-form\">\r\n                            <label htmlFor=\"comment\">üí¨ –û—Å—Ç–∞–≤—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                id=\"comment\"\r\n                                value={input}\r\n                                onChange={(e) => setInput(e.target.value)}\r\n                                placeholder=\"–í–∞—à –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π...\"\r\n                                className=\"comment-input\"\r\n                            />\r\n                            <button type=\"submit\" className=\"poll-button secondary\">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>\r\n                        </form>\r\n                    ) : (\r\n                        <p className=\"poll-thanks\">üéâ –°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π!</p>\r\n                    )}\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Grade;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}